"""
Модуль для работы с файлом стилей выступлений.

Этот модуль предоставляет функции для загрузки и сохранения стилей выступлений
в формате JSON. Стили хранятся в файле `speech_styles.json` и представляют собой
словарь, где ключ - название стиля, а значение - его описание.
"""

import json
from typing import Dict

# Константа с именем файла для хранения стилей
STYLES_FILE = "speech_styles.json"


def load_styles() -> Dict[str, str]:
    
    """
    Загружает стили выступлений из JSON-файла.

    Читает данные из файла `speech_styles.json` и возвращает их в виде словаря.
    Если файл не найден, возвращает пустой словарь.

    Returns:
        Dict[str, str]: Словарь стилей, где ключ - название стиля,
                        значение - описание стиля.

    Example:
        >>> load_styles()
        {'научный': 'Академический стиль для конференций',
         'разговорный': 'Неформальный стиль для встреч'}

    Note:
        Файл должен быть в формате JSON и содержать словарь строк.
    """
    try:
        with open(STYLES_FILE, 'r') as f:
            return json.load(f)
    except FileNotFoundError:
        return {}


def save_styles(styles: Dict[str, str]):
    
    """
    Сохраняет стили выступлений в JSON-файл.

    Записывает переданный словарь стилей в файл `speech_styles.json`
    с отступами для удобного чтения.

    Args:
        styles (Dict[str, str]): Словарь стилей для сохранения.
                                 Ключ - название стиля,
                                 значение - описание стиля.

    Example:
        >>> styles = {'научный': 'Академический стиль для конференций'}
        >>> save_styles(styles)

    Note:
        Файл будет перезаписан, если существует. Создается с отступами в 4 пробела.
    """
    
    with open(STYLES_FILE, 'w') as f:
        json.dump(styles, f, indent=4)
